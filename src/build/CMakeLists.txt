PROJECT(kylabuild)

SET(HEADERS
	inc/KylaBuild.h
)

SET(SOURCES
	src/RepositoryBuilder.cpp
)

FIND_PACKAGE(OpenSSL REQUIRED)

ADD_LIBRARY(kylabuild SHARED ${SOURCES} ${HEADERS})
TARGET_LINK_LIBRARIES(kylabuild
    kylabase kyla)
TARGET_INCLUDE_DIRECTORIES(kylabuild
	PUBLIC inc
	PRIVATE ${CMAKE_CURRENT_BINARY_DIR})

TARGET_COMPILE_DEFINITIONS(kylabuild
	PRIVATE KYLA_BUILD_LIBRARY=1)

SET_PROPERTY(TARGET kylabuild PROPERTY CXX_STANDARD 17)
SET_PROPERTY(TARGET kylabuild PROPERTY CXX_STANDARD_REQUIRED ON)
