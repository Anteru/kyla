PROJECT(kylabuild)

SET(HEADERS
	inc/KylaBuild.h
)

SET(SOURCES
	src/RepositoryBuilder.cpp
)

FIND_PACKAGE(OpenSSL)
FIND_PACKAGE(Boost 1.63 REQUIRED QUIET COMPONENTS filesystem system)

ADD_LIBRARY(kylabuild SHARED ${SOURCES} ${HEADERS})
TARGET_LINK_LIBRARIES(kylabuild
    kylabase kyla)
TARGET_INCLUDE_DIRECTORIES(kylabuild
	PUBLIC
        	inc ${Boost_INCLUDE_DIRS}
	PRIVATE
        	${CMAKE_CURRENT_BINARY_DIR})

TARGET_COMPILE_DEFINITIONS(kylabuild
	PUBLIC -DBOOST_NO_AUTO_PTR
	PRIVATE -DKYLA_BUILD_LIBRARY=1)

SET_PROPERTY(TARGET kylabuild PROPERTY CXX_STANDARD 11)
SET_PROPERTY(TARGET kylabuild PROPERTY CXX_STANDARD_REQUIRED ON)

SET_PROPERTY (TARGET kylabuild PROPERTY POSITION_INDEPENDENT_CODE TRUE)
